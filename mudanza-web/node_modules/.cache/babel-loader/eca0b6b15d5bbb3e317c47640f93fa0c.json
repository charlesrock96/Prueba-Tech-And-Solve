{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\CharlesRock96\\\\source\\\\repos\\\\mudanza.web\\\\src\\\\Formulario\\\\Formulario.js\";\nimport React, { Fragment, useState } from 'react';\nimport axios from 'axios';\n\nconst Formulario = () => {\n  const baseUrl = \"https://localhost:44330/api/mudanza\";\n  const [datos, setDatos] = useState({\n    cedula: '',\n    archivo: null\n  });\n  const [datosResult, setDatosResult] = useState({\n    error: false,\n    ErrorMensaje: ''\n  });\n\n  const handleInputChange = event => {\n    setDatos({ ...datos,\n      cedula: event.target.value\n    });\n  };\n\n  const handleInputChangeFile = event => {\n    setDatos({ ...datos,\n      archivo: event.target.files[0]\n    });\n  };\n\n  const Post = async () => {\n    await axios.post(baseUrl, datos).then(response => {\n      console.log(response.data);\n      setDatosResult(datosResult.concat(response.data));\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    console.log('posted ', this.state.selectedFile);\n    let formData = new FormData();\n    formData.append('photo', this.state.selectedFile);\n    formData.append('title', this.state.title.value);\n    formData.append('description', this.state.description.value);\n    formData.append('content', this.state.content.value);\n    const secretKey = localStorage.getItem('key');\n    let url = 'http://127.0.0.1:8000/api/';\n    axios.post(url, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n        Authorization: `token ${secretKey}`\n      }\n    }).then(resp => {\n      console.log(resp.status);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"Mudanzas\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"cedula\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, \"C\\xE9dula\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"cedula\",\n    name: \"cedula\",\n    placeholder: \"C\\xE9dula\",\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    id: \"cedulaHelp\",\n    className: \"form-text text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, \"Campo obligatorio\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"archivo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, \"Archivo\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    className: \"form-control\",\n    id: \"archivo\",\n    name: \"archivo\",\n    placeholder: \"Archivo\",\n    accept: \".txt\",\n    onChange: handleInputChangeFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"Submit\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"Procesar\")));\n};\n\nexport default Formulario;","map":{"version":3,"sources":["C:/Users/CharlesRock96/source/repos/mudanza.web/src/Formulario/Formulario.js"],"names":["React","Fragment","useState","axios","Formulario","baseUrl","datos","setDatos","cedula","archivo","datosResult","setDatosResult","error","ErrorMensaje","handleInputChange","event","target","value","handleInputChangeFile","files","Post","post","then","response","console","log","data","concat","catch","handleSubmit","preventDefault","state","selectedFile","formData","FormData","append","title","description","content","secretKey","localStorage","getItem","url","headers","Authorization","resp","status"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nconst Formulario = () => { \r\n\r\n    const baseUrl=\"https://localhost:44330/api/mudanza\";\r\n\r\n    const [datos, setDatos] = useState({\r\n        cedula : '',\r\n        archivo : null\r\n    })\r\n\r\n    const [datosResult, setDatosResult] = useState({\r\n        error : false,\r\n        ErrorMensaje : ''\r\n    })\r\n\r\n    const handleInputChange =(event) => {\r\n        setDatos({\r\n           ...datos,\r\n           cedula : event.target.value\r\n        })\r\n    }\r\n\r\n    const handleInputChangeFile =(event) => {\r\n        setDatos({\r\n           ...datos,\r\n           archivo : event.target.files[0]\r\n        })\r\n    }\r\n\r\n    const Post =async() => {\r\n        await axios.post(baseUrl, datos).then(response=>{\r\n\r\n            console.log(response.data);\r\n\r\n            setDatosResult(datosResult.concat(response.data));\r\n\r\n        }).catch(error=>{\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        console.log('posted ', this.state.selectedFile);\r\n        let formData = new FormData();\r\n        formData.append('photo', this.state.selectedFile)\r\n        formData.append('title', this.state.title.value)\r\n        formData.append('description', this.state.description.value)\r\n        formData.append('content', this.state.content.value)\r\n    \r\n    \r\n        const secretKey = localStorage.getItem('key');\r\n        let url = 'http://127.0.0.1:8000/api/';\r\n        axios.post(url, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data',\r\n                Authorization: `token ${secretKey}`\r\n            }\r\n        })\r\n        .then(resp => {\r\n            console.log(resp.status);\r\n        })\r\n    }\r\n\r\n    \r\n    return (\r\n        <>\r\n            <h1 className=\"text-center\">Mudanzas</h1>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label for=\"cedula\">Cédula</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        id=\"cedula\" \r\n                        name=\"cedula\" \r\n                        placeholder=\"Cédula\"\r\n                        onChange={handleInputChange} />\r\n                    <small id=\"cedulaHelp\" className=\"form-text text-muted\">Campo obligatorio</small>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label for=\"archivo\">Archivo</label>\r\n                    <input \r\n                        type=\"file\" \r\n                        className=\"form-control\" \r\n                        id=\"archivo\" \r\n                        name=\"archivo\" \r\n                        placeholder=\"Archivo\" \r\n                        accept=\".txt\"\r\n                        onChange={handleInputChangeFile} />\r\n                </div>\r\n                <button type=\"Submit\" className=\"btn btn-primary\" >Procesar</button>\r\n            </form>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Formulario;"]},"metadata":{},"sourceType":"module"}